(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{375:function(s,a,n){"use strict";n.r(a);var t=n(25),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"linux搭建环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#linux搭建环境"}},[s._v("#")]),s._v(" linux搭建环境")]),s._v(" "),n("h2",{attrs:{id:"系统配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#系统配置"}},[s._v("#")]),s._v(" 系统配置")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("// 关闭防火墙 和禁止开机启动\nsystemctl stop firewalld\nsystemctl disable firewalld\n\n// 关闭selinux\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/selinux/config\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SELINUX")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("disable\ngetenforce\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h2",{attrs:{id:"配置ssh"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置ssh"}},[s._v("#")]),s._v(" 配置ssh")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("ssh-copy-id -i id_rsa.pub user@publicNet IP\n\n// pem公钥\nssh-keygen -m PEM -t rsa -b "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" -C "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"your_email@example.com"')]),s._v(" 需要用pem格式\n\n 生成ssh：ssh-keygen -t rsa -C "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"your_email@example.com"')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h2",{attrs:{id:"本地config"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#本地config"}},[s._v("#")]),s._v(" 本地config")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("// .shh/config\n\nHost tx1pengyue\nHostName "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("118.24")]),s._v(".3.246\nUser pengyue\nIdentitiesOnly "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h2",{attrs:{id:"配置user"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置user"}},[s._v("#")]),s._v(" 配置User")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("添加用户：adduser "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$_newUser")]),s._v(" \n设置密码：passwd "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$_newUser")]),s._v("\n创建分组：groupadd "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$_groupName")]),s._v("\n加入组：gpasswd -a "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$_newUser")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$_groupName")]),s._v("\n移除组：gpasswd -d "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$_newUser")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$_groupName")]),s._v("\n进入home文件分配权限：cd /home\n分配权限：chmod "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" -R "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$_newUser")]),s._v("\n权限介绍：4"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("可读 "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("可写 "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("可执行\n      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("\n      第一个7 是 文件所有者的权限\n      第二个7 是 文件所属组的权限\n      第三个7 是 其他用户的权限\n      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("+2+1 表示有可读可写可执行\n      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("+2 表示有可读可写权限\n      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("+1 表示有可读可执行\n修改用户权限为root: 修改/etc/passwd即可，把用户名的ID和ID组修改成0（不建议）\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("h2",{attrs:{id:"node环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#node环境"}},[s._v("#")]),s._v(" node环境")]),s._v(" "),n("h3",{attrs:{id:"源码安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#源码安装"}},[s._v("#")]),s._v(" 源码安装")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http:// xxx node官网下载最新的源码包\nyum -y "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" gcc "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" gcc-c++ openssl-devel "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" 下载各种编译器\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -xvf node-v8.9.1-linux-x64.tar.xz  解压\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" node-xxx \n./configure  启动配置\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" 编译 \n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" 安装\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h3",{attrs:{id:"yum安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#yum安装"}},[s._v("#")]),s._v(" yum安装")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("nodesource官方 https://github.com/nodesource/distributions\n\n步骤1\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" --silent --location https://rpm.nodesource.com/setup_12.x "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" -\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum -y "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nodejs\n\n切换淘宝源\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" registry https://registry.npm.taobao.org\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h2",{attrs:{id:"gcc升级"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#gcc升级"}},[s._v("#")]),s._v(" gcc升级")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("yum -y "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" centos-release-scl\nyum -y "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" devtoolset-7-gcc devtoolset-7-gcc-c++ devtoolset-7-binutils\nscl "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" devtoolset-7 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n需要注意的是scl命令启用只是临时的，退出shell或重启就会恢复原系统gcc版本。\n如果要长期使用gcc "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.3")]),s._v("的话：\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"source /opt/rh/devtoolset-7/enable"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v("/etc/profile\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);