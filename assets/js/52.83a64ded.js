(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{403:function(t,s,a){"use strict";a.r(s);var n=a(25),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"ssr"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssr"}},[t._v("#")]),t._v(" SSR")]),t._v(" "),a("p",[t._v("来聊一聊SSR")]),t._v(" "),a("h2",{attrs:{id:"ssr的架构图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssr的架构图"}},[t._v("#")]),t._v(" ssr的架构图")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/PENG_YUE/myImg/raw/master/uPic/YdVByD.png",alt:"img"}})]),t._v(" "),a("blockquote",[a("p",[t._v("流程")])]),t._v(" "),a("p",[t._v("主要流程")]),t._v(" "),a("p",[t._v("createApp , createStore , createRouter")]),t._v(" "),a("p",[t._v("entry-server: 路由匹配，")]),t._v(" "),a("p",[t._v("client-server: 路由与数据状态挂载。")]),t._v(" "),a("h2",{attrs:{id:"ssr中的一些要点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssr中的一些要点"}},[t._v("#")]),t._v(" ssr中的一些要点")]),t._v(" "),a("p",[t._v("总结了一些SSR中的要点")]),t._v(" "),a("h3",{attrs:{id:"为什么需要使用-createap-工厂函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么需要使用-createap-工厂函数"}},[t._v("#")]),t._v(" 为什么需要使用 "),a("code",[t._v("createAp")]),t._v(" 工厂函数")]),t._v(" "),a("p",[t._v("node.js是一个长期运行的进程。当代码进入该进程时，它将进行一次取值并留存在内存中。这意味着如果只创建一个单例对象，它将在每个传入的请求之间共享。所以需要为每个请求创建一个新的根 Vue 实例。这与每个用户在自己的浏览器中使用新应用程序的实例类似。如果我们在多个请求之间使用一个共享的实例，很容易导致交叉请求状态污染 (cross-request state pollution)。")]),t._v(" "),a("p",[t._v("同样的规则也适用于router、store 和 event bus 实例。")]),t._v(" "),a("h3",{attrs:{id:"webpack的作用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack的作用"}},[t._v("#")]),t._v(" webpack的作用")]),t._v(" "),a("p",[t._v("提供工程化能力，打包bundle。")]),t._v(" "),a("ul",[a("li",[t._v("服务器端bundle，用于服务器端渲染(SSR)")]),t._v(" "),a("li",[t._v("客户端bundle，用于混合静态标记。")])]),t._v(" "),a("h3",{attrs:{id:"入口文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#入口文件"}},[t._v("#")]),t._v(" 入口文件")]),t._v(" "),a("p",[t._v("分两个入口，"),a("code",[t._v("enrty-client.js")]),t._v(" 和 "),a("code",[t._v("entry-server.js")]),t._v("。")]),t._v(" "),a("blockquote",[a("p",[t._v("entry-server")])]),t._v(" "),a("ul",[a("li",[t._v("执行服务器端路由匹配 (server-side route matching)")]),t._v(" "),a("li",[t._v("执行数据预取逻辑 (data pre-fetching logic)")])]),t._v(" "),a("h3",{attrs:{id:"状态预取"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#状态预取"}},[t._v("#")]),t._v(" 状态预取")]),t._v(" "),a("blockquote",[a("p",[t._v("服务器预取")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// entry-server.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" createApp "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./app'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("context")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" router"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" store "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createApp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    router"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    router"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onReady")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" matchedComponents "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" router"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMatchedComponents")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("matchedComponents"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" code"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("404")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 对所有匹配的路由组件调用 `asyncData()`")]),t._v("\n      Promise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("all")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("matchedComponents"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("Component")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Component"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asyncData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Component"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("asyncData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            store"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            route"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" router"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("currentRoute\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在所有预取钩子(preFetch hook) resolve 后，")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 我们的 store 现在已经填充入渲染应用程序所需的状态。")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 当我们将状态附加到上下文，")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 并且 `template` 选项用于 renderer 时，")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 状态将自动序列化为 `window.__INITIAL_STATE__`，并注入 HTML。")]),t._v("\n        context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" store"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state\n\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("reject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br")])]),a("blockquote",[a("p",[t._v("客户端预取")])]),t._v(" "),a("h2",{attrs:{id:"ssr解决的问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssr解决的问题"}},[t._v("#")]),t._v(" ssr解决的问题")]),t._v(" "),a("p",[a("code",[t._v("spa")]),t._v(" 颠覆了前端的开发模式，但是 "),a("code",[t._v("spa")]),t._v(" 的缺点是首次需要加载大量的资源，当然可以用分包来缩小包体积。"),a("code",[t._v("spa")]),t._v(" 的首屏确实是存在问题的。")]),t._v(" "),a("p",[t._v("并且 "),a("code",[t._v("spa")]),t._v(" 首个被加载的 "),a("code",[t._v("html")]),t._v(" 内容并不是用户看到的内容，不利于"),a("code",[t._v("ssr")]),t._v(".")]),t._v(" "),a("h2",{attrs:{id:"ssr的优点和缺点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssr的优点和缺点"}},[t._v("#")]),t._v(" ssr的优点和缺点")]),t._v(" "),a("h3",{attrs:{id:"优点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#优点"}},[t._v("#")]),t._v(" 优点")]),t._v(" "),a("h4",{attrs:{id:"更好的seo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更好的seo"}},[t._v("#")]),t._v(" 更好的seo")]),t._v(" "),a("p",[t._v("爬虫只会爬取源码。使用了"),a("code",[t._v("Vue")]),t._v("或者其它"),a("code",[t._v("MVVM")]),t._v("框架之后，页面大多数"),a("code",[t._v("DOM")]),t._v("元素都是在客户端根据"),a("code",[t._v("js")]),t._v("动态生成，可供爬虫抓取分析的内容大大减少。另外，浏览器爬虫不会等待我们的数据完成之后再去抓取我们的页面数据。服务端渲染返回给客户端的是已经获取了异步数据并执行"),a("code",[t._v("JavaScript")]),t._v("脚本的最终"),a("code",[t._v("HTML")]),t._v("，网络爬中就可以抓取到完整页面的信息。")]),t._v(" "),a("h4",{attrs:{id:"更快首屏的渲染"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更快首屏的渲染"}},[t._v("#")]),t._v(" 更快首屏的渲染")]),t._v(" "),a("p",[t._v("首屏的渲染是 "),a("code",[t._v("node")]),t._v(" 发送过来的 "),a("code",[t._v("html")]),t._v(" 字符串，并不依赖 "),a("code",[t._v("js")]),t._v(" 文件,这就会使用户更快的看到页面的内容。大型的单页应用，打包后体积很大，客户端渲染加载所有所需文件时间较长，首页就会有一段白屏时间。")]),t._v(" "),a("h4",{attrs:{id:"降级渲染"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#降级渲染"}},[t._v("#")]),t._v(" 降级渲染")]),t._v(" "),a("p",[t._v("当服务器负载过大时，我们需要做降级渲染，将渲染过程放到客户端中。实现方式很简单，通过node服务器中的开关，走不同的渲染模式即可。")]),t._v(" "),a("h3",{attrs:{id:"缺点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#缺点"}},[t._v("#")]),t._v(" 缺点")]),t._v(" "),a("h4",{attrs:{id:"服务端压力大"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#服务端压力大"}},[t._v("#")]),t._v(" 服务端压力大")]),t._v(" "),a("p",[t._v("统一到服务端"),a("code",[t._v("node")]),t._v("做渲染，会大量占用服务端"),a("code",[t._v("CPU")]),t._v("资源.")]),t._v(" "),a("h4",{attrs:{id:"更大的迁移成本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更大的迁移成本"}},[t._v("#")]),t._v(" 更大的迁移成本")]),t._v(" "),a("p",[t._v("除了对webpack、Vue要熟悉，还需要掌握node、Express相关技术。相对于客户端渲染，项目构建、部署过程更加复杂。")]),t._v(" "),a("h3",{attrs:{id:"只是首屏加载快"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#只是首屏加载快"}},[t._v("#")]),t._v(" 只是首屏加载快")]),t._v(" "),a("p",[t._v("只是首屏加载快，对用户已经看过的页面没有优势，每次都要请求服务端数据")]),t._v(" "),a("h3",{attrs:{id:"开发成本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开发成本"}},[t._v("#")]),t._v(" 开发成本")]),t._v(" "),a("p",[t._v("某些声明周期钩子函数（如beforeCreate、created）能同时运行在服务端和客户端，因此第三方库要做特殊处理，才能在服务器渲染应用程序中运行。而前端开发的发展的主线一直在解决开发效率的问题。")]),t._v(" "),a("h2",{attrs:{id:"其他代替方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他代替方案"}},[t._v("#")]),t._v(" 其他代替方案")]),t._v(" "),a("h3",{attrs:{id:"nuxt"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nuxt"}},[t._v("#")]),t._v(" nuxt")]),t._v(" "),a("p",[t._v("nuxt约定配置过多，适合从0开始开发一个新的应用，有ssr的需求，并且会带来一些学习成本，主要是各种约定。开发体验足够好。这得从公司技术栈的方向上来决定是否使用nuxt")]),t._v(" "),a("h3",{attrs:{id:"预渲染"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#预渲染"}},[t._v("#")]),t._v(" 预渲染")]),t._v(" "),a("p",[t._v("如果只是单方面对"),a("code",[t._v("seo")]),t._v("的要求的话,可以使用 "),a("code",[t._v("pre-render-plugin")]),t._v("这个组件，将重要的需要"),a("code",[t._v("seo")]),t._v("的页面单独打出来，这也是官方推荐的一种方式。")]),t._v(" "),a("h3",{attrs:{id:"html-loading"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#html-loading"}},[t._v("#")]),t._v(" html loading")]),t._v(" "),a("p",[t._v("同时在用户体验方面来说，也可以使用"),a("code",[t._v("html")]),t._v("中塞入loading片段达到首屏快速呈现loading动画的效果。")]),t._v(" "),a("h2",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("p",[t._v("从0开始做一套新的ssr架构的话，带来的技术难度是成倍增加的。但是很多时候 "),a("code",[t._v("SSR")]),t._v(" 又是必须的，如果产品经理和你说，我不接受一开始一个loading动画，连骨架屏我也不接受，这时候如果系统架构不支持SSR的话，就歇菜了，架构师就要被开会了。")])])}),[],!1,null,null,null);s.default=e.exports}}]);