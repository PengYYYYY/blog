# 网络全链路

读网络是怎么样链接的笔记

## web应用

### htp

#### 头中的重要字段

| 头字段类型 | Http版本 | 含义 |
| - | - | - |
| 通用头:适用于请求和响应消息的头字段 |
| Date | http1.0/http1.1 | 表示请求和响应生成的日期|
| Pragma | http1.0/http1.1 | 表示数据是否允许缓存的通信选项 |
| Cache-Control | http1.1 | 控制缓存的相关信息 |
| Connection | http1.1 | 设置发送响应之后 TCP 连接是否继续保持的通信选项 |
| Transfer-Encoding | http1.1 | 表示消息主体的编码格式 |
| Via | http1.1 | 记录途中经过的代理和网关 |
| 请求头:用于表示请求消息的附加信息的头字段 |
| Authorization | http1.0/http1.1 | 身份认证数据 |
| From | http1.0/http1.1 | 请求发送者的邮件地址 |
| If-Modified-Since | http1.0/http1.1 | 处理缓存字段：如果希望仅当数据在某个日期之后有更新时才执 行请求，可以在这个字段指定希望的日期。 |
| Referer | http1.0/http1.1 | 当通过点击超级链接进入下一个页面时，在这里会记录下上一个页面的 URI |
| User-Agent | http1.0/http1.1 | 客户端软件的名称和版本号等相关信息 |
| Accept | http1.0/http1.1 | 客户端可支持的数据类型(Content-Type)，以 MIME 类型来表示 |
| Accept-Charset | http1.0/http1.1 | 客户端可支持的字符集 |
| Accept-Encoding | http1.0/http1.1 | 客户端可支持的编码格式(Content-Encoding)， 一般来说表示数据的压缩格式 |
| Accept-Language | http1.0/http1.1 | 客户端可支持的语言，汉语为 zh，英语为 en |
| Host | http1.1 | 接收请求的服务器 IP 地址和端口号 |
| If-Match | http1.1 | 参见 Etag |
| If-None-Match | http1.1 | 参见 Etag |
| If-Unmodified-Since | http1.1 | 当指定日期之后数据未更新时执行请求 |
| Range | http1.1 | 当需要只获取部分数据而不是全部数据时，可通过这个字段指定要获取的数据范围 |
| 响应头:用于表示响应消息的附加信息的头字段 |
| Location | http1.0/http1.1 | 表示信息的准确位置。当请求的 URI 为相对路径 时，这个字段用来返回绝对路径 |
| Server | http1.0/http1.1 | 服务器程序的名称和版本号等相关信息 |
| WWW-Authenticate | http1.0/http1.1 | 当请求的信息存在访问控制时，返回身份认证用的数据(Challenge 1) |
| Accept-Ranges | http1.1 | 当希望仅请求部分数据(使用 Range 来指定范围) 时，服务器会告知客户端是否支持这一功能 |
| 实体头:用于表示实体(消息体)的附加信息的头字段 |
| Allow | http1.0/http1.1 | 表示指定的 URI 支持的方法 |
| Content-Encoding | http1.0/http1.1 | 当消息体经过压缩等编码处理时，表示其编码格式 |
| Content-Length | http1.0/http1.1 | 表示消息体的长度 |
| Content-Type | http1.0/http1.1 | 表示消息体的数据类型，以 MIME 规格定义的数 据类型来表示 |
| Expires | http1.0/http1.1 | 表示消息体的有效期 |
| Last-Modified | http1.0/http1.1 | 数据的最后更新日期 |
| Content-Language | http1.0/http1.1 | 表示消息体的语言。汉语为 zh，英语为 en |
| Content-Location | http1.1 | 表示消息体在服务器上的位置(URI) |
| Content-Range | http1.1 | 当仅请求部分数据时，表示消息体包含的数据范围 |
| Etag | http1.1 | 在更新操作中，有时候需要基于上一次请求的响应 数据来发送下一次请求。在这种情况下，这个字段 可以用来提供上次响应与下次请求之间的关联信息。 上次响应中，服务器会通过 Etag 向客户端发送一 个唯一标识，在下次请求中客户端可以通过 If- Match、If-None-Match、If-Range 字段将这个标识 告知服务器，这样服务器就知道该请求和上次的响 应是相关的。这个字段的功能和 Cookie 是相同的， 但 Cookie 是网景(Netscape)公司自行开发的规格， 而 Etag 是将其进行标准化后的规格 |

#### HTTP状态码

| 状态码 | 含义 |
| 1xx | 告知请求的处理进度和情况 |
| 2xx | 成功 |
| 3xx | 表示需要进一步操作 |
| 4xx | 客户端错误 |
| 5xx | 服务器错误 |

### DNS

### ip地址

- TCP/IP 的结构
![img](https://gitee.com/PENG_YUE/myImg/raw/master/uPic/M2OEc8.png)

TCP/IP 结构可以理解为由一些小的子网，通过路由器连接起来的一个大网络。子网可以理解为用集线器连接起来的计算机。可以将其看成一个单位，称为子网。将子网通过路由器连接起来，就形成了一个网络。

- 路由器：一种对包进行转发的设备，在第 3 章有详细介绍
- 集线器：一种对包进行转发的设备，分为中继式集线器和交换式集线器两种

1. ip地址主体表示方式：`10.11.12.13`
2. 采用ip地址主体相同的格式表示子网掩码的方法：`10.11.12.13/255.255.255.0`
3. 采用网络号比特数来表示子网掩码的方法：`10.11.12.13/24`
4. 表示子网的地址：`10.11.12.0/24`
5. 表示子网内广播的地址：`10.11.12.255/24`

| - | 十进制表示 | 将左侧十进制转换成为比特 |
| - | - | - |
| IP地址 | 10.1.2.3 | 00001010.00000001.00000010.00000011 |
| 子网掩码 | 255.255.255.0 | 11111111.11111111.11111111.00000000 |
| 网络号/主机号 | 10.1.2/3 | 00001010.00000001.00000010/00000011 |

:::tip
IP 地址的主机号
全 0:表示整个子网
全 1:表示向子网上所有设备发送包，即“广播”

### socket库与dns解析

- Socket 库是操作系统中的一种库，其中包含的程序组件，可以让其他的应用程序调用操作系统的网络功能。而解析器就是这个库中 的其中一种程序组件。Socket 库是用于调用网络功能的程序组件集合。
- 在编写浏览器等应用程序的时候只需要。写上解析器的程序名称“gethostbyname”以及 Web 服务器 B的域名“www.xxx.com”就可以了，这样就完成了对解析器的调用.`gethostbyname("www.xxx.com")`。

- 解析器内部原理，
